---
layout:     post
title:      剑指Offer 13. 机器人的运动范围
subtitle:   
date:       2020-04-07
author:     Hao
header-img: img/post/post_bg_coffee.jpg
catalog: true
mathjax: true
tags:
    - 剑指Offer
---

#### 题目描述

地上有一个m行n列的方格，从坐标 **[0, 0]** 到坐标 **[m-1, n-1]** 。一个机器人从坐标 **[0, 0]** 的格子开始移动，它每次可以向左、右、上、下移动一格（不能移动到方格外），也不能进入行坐标和列坐标的数位之和大于k的格子。例如，当k为18时，机器人能够进入方格 **[35, 37]** ，因为3+5+3+7=18。但它不能进入方格 **[35, 38]**，因为3+5+3+8=19。请问该机器人能够到达多少个格子？$1 <= n,m <= 100, 0 <= k <= 20$

链接：[13. 机器人的运动范围](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof)

#### 方法一

本题与 **矩阵中的路径** 类似，是典型的矩阵搜索问题。此类问题通常可使用 **深度优先搜索（DFS）** 或 **广度优先搜索（BFS）** 解决。在介绍 DFS / BFS 算法之前，为提升计算效率，首先讲述两项前置工作： **数位之和计算 、 搜索方向简化** 。

##### 数位之和计算

设一数字 $x$，整除符号 $/$，取余符号 $%$，则有：

> $x / 10$ : 得到 $x$ 的个位数字；\\
> $x % 10$ : 删除 $x$ 的个位数字；\\

因此，可通过循环求得数位和 $s$，数位和计算的封装函数如下所示：

```java
int s = 0;
while (x > 0) {
    s += x % 10;
    x = x / 10;
}
```

因为机器人每次只移动一格，因此每次只需计算 $x$ 到 $x \pm 1$ 的数位和增量。本题说明 $1 \leq n,m \leq 100$，以下公式仅在此范围适用。\\
设 $x$ 的数位和为 $S_x$，$x+1$ 的数位和为 $S_{x+1}$；\\
   当 $(x+1)% 10 = 0$ 时，$S_{x+1} = S_x- 8$；例如 19，20的数位和分别为10，2；\\
   当 $(x+1)% 10 \neq 0$ 时，$S_{x+1} = S_x + 1$；例如 18，19的数位和分别为9，10；\\
数位和增量公式如下：

```java
(x + 1) % 10 == 1 ? s_x + 1 : s_x - 8;
```

##### 搜索方向简化



```java
public static boolean exist(char[][] board, String word) {
    int rows = board.length;
    int cols = (rows == 0)? 0 : board[0].length;
    boolean[][] visited = new boolean[rows][cols];
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            if (board[i][j] == word.charAt(0)) {
                if (dfs(board, word, i, j, 0, visited))
                    return true;
            }
        }
    }
    return false;
}

```