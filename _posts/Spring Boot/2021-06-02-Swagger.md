---
layout:     post
title:      10. Swagger
subtitle:   
date:       2021-06-02
author:     Hao
header-img: img/post/post_bg_coffee.jpg
catalog: true
mathjax: true
tags:
    - SpringBoot
---



## Quick Start


## 分析

## 整合 Spring Boot 环境搭建

## 登录前拦截

```java
// 添加 Shiro 内置过滤器
/*
 * anon: 无需认证即可访问
 * authc: 认证才能访问
 * user: 拥有 记住我 功能才能访问
 * perms: 拥有对某个资源的权限才可访问
 * role: 拥有某个角色才可访问
 */
Map<String, String> filterMap = new HashMap<>();
filterMap.put("/user/add", "authc");
filterMap.put("/user/update", "authc");
bean.setFilterChainDefinitionMap(filterMap);

// 设置登陆请求
bean.setLoginUrl("/toLogin");
```

## 认证

```java
System.out.println("认证");
// 本应该从数据库中获取
String username = "root";
String password = "123456";
// 前端返回的用户名和密码
UsernamePasswordToken token =(UsernamePasswordToken) authenticationToken;
// 用户名认证
if (!token.getUsername().equals(username)) {
    return null;  // 抛异常
}
// 密码认证 Shiro 自己做
return new SimpleAuthenticationInfo("", password, ""); // 返回 AuthenticationInfo 接口的一个实现类
```

## 整合 Mybatis

## 授权

## 整合 Thymeleaf




## 总结

本篇我们学习了 Spring Security，了解了认证和授权两大功能如何配置，以及控制权限、定制首页、注销和记住我等功能。

